{% extends "base.html" %}
{% load static %}
{% block title  %}smartpayapp homepage{% endblock  %}

{% block content %}

    <!--HEADER SECTION-->
    <section class="welcome-header">
        <div class="welcome-content">
            <div class="welcome-text">
                <h1>Welcome back, Hannah</h1>
                <p>Here’s your salary advance and loan overview at a glance.</p>
            </div>
            <div class="profile-pic">
                <img src="{% static 'img/profile/p1.png' %}" alt="Profile Picture">
            </div>
        </div>
    </section>

    <!--QUICK GLANCE SECTION-->   
    <section class="quick-actions">
        <div class="container">
            
            <a href="{% url 'request_form' %}" class="action-card">
            <div class="action-icon">
                <img src="{% static 'img/icons/l1.png' %}" alt="Salary Advance">
            </div>
            <h3>Request Salary Advance</h3>
            <p>Submit your salary advance request securely.</p>
            </a>

            <a href="request-internal-loan.html" class="action-card">
            <div class="action-icon">
                <img src="{% static 'img/icons/l2.png' %}" alt="Internal Loan">
            </div>
            <h3>Request Internal Loan</h3>
            <p>Apply for organizational loans easily.</p>
            </a>

            <a href="message-finance.html" class="action-card">
            <div class="action-icon">
                <img src="{% static 'img/icons/l3.png' %}" alt="Message Finance">
            </div>
            <h3>Message Finance Office</h3>
            <p>Send private messages directly to finance.</p>
            </a>

            <a href="support-query.html" class="action-card">
            <div class="action-icon">
                <img src="{% static 'img/icons/l1.png' %}" alt="Support Query">
            </div>
            <h3>Submit Support Query</h3>
            <p>Report issues or ask questions securely.</p>
            </a>

        </div>
    </section>
    
        <!--FINACIAL OVERVIEW-->
    <section class="financial-overview">
        <div class="overview-container">

            <div class="overview-card">
            <div class="icon">
                <img src="{% static 'img/icons/l2.png' %}" alt="Salary Icon">
            </div>
            <h2>KSh 150,000</h2>
            <p>Current Salary</p>
            </div>

            <div class="overview-card">

            <div class="icon">
                <img src="{% static 'img/icons/l2.png' %}" alt="Outstanding Loans Icon">
            </div>
            <h2>KSh 50,000</h2>
            <p>Outstanding Loans</p>
            </div>

            <div class="overview-card">
            <div class="icon">
                <img src="{% static 'img/icons/l2.png' %}" alt="Eligibility Icon">
            </div>
            <h2>Eligible — Up to KSh 30,000</h2>
            <p>Advance Eligibility</p>
            </div>

        </div>
    </section>
    <br><br><br>

    <!--Loans History-->    
    <section class="loan-history">
        <h2>Loan History</h2>
        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>Date Requested</th>
                        <th>Type</th>
                        <th>Amount (KSh)</th>
                        <th>Remaining (KSh)</th>
                        <th>Status</th>
                        <th>Repayment Progress</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td data-label="Date Requested">2025-08-01</td>
                        <td data-label="Type">Advance</td>
                        <td data-label="Amount (KSh)">20,000</td>
                        <td data-label="Remaining (KSh)">12,000</td>
                        <td data-label="Status"><span class="status pending">Pending</span></td>
                        <td data-label="Repayment Progress">
                            <div class="progress-bar">
                                <div class="progress" style="width: 40%;"></div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td data-label="Date Requested">2025-07-10</td>
                        <td data-label="Type">Loan</td>
                        <td data-label="Amount (KSh)">50,000</td>
                        <td data-label="Remaining (KSh)">15,000</td>
                        <td data-label="Status"><span class="status approved">Approved</span></td>
                        <td data-label="Repayment Progress">
                            <div class="progress-bar">
                                <div class="progress" style="width: 70%;"></div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td data-label="Date Requested">2025-06-15</td>
                        <td data-label="Type">Advance</td>
                        <td data-label="Amount (KSh)">30,000</td>
                        <td data-label="Remaining (KSh)">30,000</td>
                        <td data-label="Status"><span class="status rejected">Rejected</span></td>
                        <td data-label="Repayment Progress">
                            <div class="progress-bar">
                                <div class="progress" style="width: 0%;"></div>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </section>

    
    <br><br><br>
    <section class="messaging-support">
        <div class="section-header">
            <h2>Messaging & Support</h2>
        </div>

        <div class="support-container">

            <!-- Messages Inbox (Chat Style) -->
            <div class="messages-panel">
                <h3>Inbox</h3>
                <div class="chat-container">

                    <div class="chat-message unread">
                        <div class="chat-sender">
                            Finance Office
                            <span class="unread-badge"></span> <!-- Unread indicator -->
                        </div>
                        <div class="chat-content">Your recent advance request has been approved.</div>
                        <div class="chat-time">10:15 AM | 2025-08-10</div>
                    </div>                    

                    <div class="chat-message unread">
                        <div class="chat-sender">Finance Office</div>
                        <div class="chat-content">Your recent advance request has been approved.</div>
                        <div class="chat-time">10:15 AM | 2025-08-10</div>
                    </div>
                    <div class="chat-message read">
                        <div class="chat-sender">Finance Office</div>
                        <div class="chat-content">Reminder: Pending loan repayment due this month.</div>
                        <div class="chat-time">09:30 AM | 2025-08-05</div>
                    </div>
                    <!-- Add more chat messages -->
                </div>
            </div>

            <!-- Support Queries Panel -->
            <div class="support-panel">
                <h3>Support Queries</h3>
                <div class="query">
                    <span class="query-text">How do I update my Staff ID?</span>
                    <span class="query-status pending">Pending</span>
                </div>
                <div class="query">
                    <span class="query-text">Request for repayment schedule clarification.</span>
                    <span class="query-status resolved">Resolved</span>
                </div>
                <button class="new-query-btn">New Query</button>
            </div>

        </div>
    </section>

{% endblock  %}